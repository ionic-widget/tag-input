!function(){"use strict";angular.module("lh.commons.util",[])}();
!function(){"use strict";function t(t){function n(t,n){return new i(t,n)}function i(n,i){function e(n){if(!angular.isString(n)||""===n)throw new Error("handle is not a sring");return this.data[n]=t.instantiate(this._clz),this.data[n]}function a(t){if(!angular.isString(t)||""===t)throw new Error("handle is not a sring");return angular.isUndefined(this.data[t])?this.initHandle.call(this,t):this.data[t]}function r(){return this._prefix+this._index++%1e6}function s(t){if(!angular.isString(t)||""===t)throw new Error("handle is not a sring");delete this.data[t]}this._prefix=i,this._clz=n,this.data={},this._index=0,this.initHandle=e,this.getByHandle=a,this.generateHandle=r,this.removeHandle=s}return{create:n}}angular.module("lh.commons.util").factory("DelegateHandle",t),t.$inject=["$injector"]}();
!function(){"use strict";function n(n){function t(){return new c}function c(){function t(n){return angular.isFunction(n)?(o.cb.indexOf(n)===-1&&o.cb.push(n),o.off.bind(o,n)):angular.noop}function c(n){var t=o.cb.indexOf(n);t>-1&&o.cb.splice(t,1)}function i(){var t=arguments;o.cb.forEach(function(c){n(function(){c.apply(null,t)})})}var o=this;o.cb=[],o.on=t,o.off=c,o.notify=i}return{create:t}}angular.module("lh.commons.util").factory("Listener",n),n.$inject=["$timeout"]}();
!function(){"use strict";angular.module("ui.taginput",["lh.commons.util"])}();
!function(){"use strict";function n(n){return n.create(e,"tag-input")}function e(n){function e(n){if(angular.isDefined(n)){if(angular.isString(n))return a(n);if(angular.isArray(n)){for(var r=!0,i=0;i<n.length;i++)e(n[i])||(r=!1);return r}if(angular.isObject(n))return t(n)}else if(""!==x.text()){var r=a(x.text());return r&&x.text(""),r}return!1}function a(n){if(""!==n&&x._config.allowedTagsPatternRegex.test(n)&&n.length>=x._config.minLength&&n.length<=x._config.maxLength){var e={};return e[x._config.displayProperty]=n,e[x._config.keyProperty]=n,t(e)}return!1}function t(n){return!(!x._config.allowMoreThanMaxTags&&x._tags.length>=x._config.maxTags)&&(null===x.getTagByKey(n[x._config.keyProperty])&&(x._tags.push(n),x._onTagAddedListener.notify(n),!0))}function r(n){return angular.isDefined(n)?angular.isNumber(n)?i(n):angular.isObject(n)?g(n):null:i(x._tags.length-1)}function i(n){if(n>=0){var e=x._tags.splice(n,1);if(1===e.length)return x._onTagRemovedListener.notify(e[0]),e[0]}return null}function g(n){return i(x._tags.indexOf(n))}function o(n,e){if(angular.isDefined(e)){var a={};a[n]=e,f(a)}else{if(angular.isString(n))return x._config[n];if(!angular.isObject(n)||angular.isArray(n))throw new Exception("Unsupported Operation");f(n)}}function d(n){return angular.isDefined(n)?void(x._text=n):x._text}function l(){return x._tags}function u(n){for(var e=x._config.keyProperty,a=0;a<x._tags.length;a++)if(x._tags[a][e]===n)return x._tags[a];return null}function s(n){return n[x._config.displayProperty]}function f(n){angular.isDefined(n.displayProperty)&&(x._config.displayProperty=p(n.displayProperty)),angular.isDefined(n.keyProperty)&&(x._config.keyProperty=p(n.keyProperty)),angular.isDefined(n.type)&&(x._config.type=p(n.type)),angular.isDefined(n.minLength)&&c(n.minLength)&&(x._config.minLength=m(n.minLength)),angular.isDefined(n.maxLength)&&c(n.maxLength)&&(x._config.maxLength=m(n.maxLength)),angular.isDefined(n.minTags)&&c(n.minTags)&&(x._config.minTags=m(n.minTags)),angular.isDefined(n.maxTags)&&c(n.maxTags)&&(x._config.maxTags=m(n.maxTags)),angular.isDefined(n.allowMoreThanMaxTags)&&T(n.allowMoreThanMaxTags)&&(x._config.allowMoreThanMaxTags=_(n.allowMoreThanMaxTags)),angular.isDefined(n.placeholder)&&(x._config.placeholder=p(n.placeholder)),angular.isDefined(n.icon)&&(x._config.icon=p(n.icon)),angular.isDefined(n.addOnEnter)&&T(n.addOnEnter)&&(x._config.addOnEnter=_(n.addOnEnter)),angular.isDefined(n.addOnSpace)&&T(n.addOnSpace)&&(x._config.addOnSpace=_(n.addOnSpace)),angular.isDefined(n.addOnComma)&&T(n.addOnComma)&&(x._config.addOnComma=_(n.addOnComma)),angular.isDefined(n.addOnBlur)&&T(n.addOnBlur)&&(x._config.addOnBlur=_(n.addOnBlur)),angular.isDefined(n.allowedTagsPattern)&&(x._config.allowedTagsPattern=n.allowedTagsPattern,x._config.allowedTagsPatternRegex=new RegExp(n.allowedTagsPattern)),angular.isDefined(n.enableEditingLastTag)&&T(n.enableEditingLastTag)&&(x._config.enableEditingLastTag=_(n.enableEditingLastTag))}function c(n){return/^\d+$/.test(n)}function T(n){return/^(false|true)$/.test(n)}function _(n){return"true"===String(n)}function p(n){return String(n)}function m(n){return parseInt(n)}var y={displayProperty:"value",keyProperty:"value",type:"text",minLength:0,maxLength:Number.MAX_SAFE_INTEGER,minTags:0,maxTags:Number.MAX_SAFE_INTEGER,allowMoreThanMaxTags:!0,placeholder:"",icon:"",addOnEnter:!0,addOnSpace:!1,addOnComma:!0,addOnBlur:!0,allowedTagsPattern:".+",allowedTagsPatternRegex:new RegExp(".+"),enableEditingLastTag:!1},x={};return x._config=y,x._tags=[],x._text="",x._onTagAddedListener=n.create(),x._onTagRemovedListener=n.create(),x.pushTag=e,x.popTag=r,x.config=o,x.text=d,x.getTags=l,x.getTagByKey=u,x.displayTag=s,x.onTagAdded=x._onTagAddedListener.on,x.onTagRemoved=x._onTagRemovedListener.on,x}angular.module("ui.taginput").factory("TagInputConfig",n),n.$inject=["DelegateHandle"],e.$inject=["Listener"]}();
!function(){"use strict";function t(t){function i(i){i.tagInput=t.getByHandle(i.uiTagInputId)}return{restrict:"E",template:'<div class="tag-container"><pill class="ui-tag-input-pill" ng-click="tagInput.popTag(tag)" ng-repeat="tag in tagInput.getTags()">{{tagInput.displayTag(tag)}} <i class="ion-close-round"></i></pill></div>',scope:{uiTagInputId:"@"},link:i}}angular.module("ui.taginput").directive("tagList",t),t.$inject=["TagInputConfig"]}();
!function(){"use strict";function n(n,t,i){function g(t,g,a,u){function o(){t.tags=r.getTags(),c(),u.$setDirty(),s(),r.config("allowMoreThanMaxTags")||e()}function s(){u.$setValidity("maxTags",r.getTags().length<=r.config("maxTags")),u.$setValidity("minTags",r.getTags().length>=r.config("minTags")),u.$validate()}function c(){n(function(){g[0].scrollLeft=g[0].scrollWidth})}function e(){r.getTags().length==r.config("maxTags")?g.addClass("ui-tag-full"):g.removeClass("ui-tag-full")}function l(){T||r.pushTag(),T=!1}function p(){T=!1}function f(){T=!0,n(function(){d.focus()})}var r=i.getByHandle(t.uiTagInputId);r.config(a);var d=g.find("input")[0],T=!1;t.tagInput=r,t.onInputBlur=l,t.onInputFocus=p,t.onClick=f;var I=r.onTagAdded(o),m=r.onTagRemoved(o);t.tags&&t.tags.length>0&&(u.$setDirty(),r.pushTag(t.tags)),s(),u.$isEmpty=function(n){return!n||!n.length},t.$on("$destroy",function(){I(),m()})}return{restrict:"E",replace:!0,require:"ngModel",scope:{uiTagInputId:"@",tags:"=ngModel"},template:'<div class="item ui-tag-input" ng-click="onClick()" ng-class="tagInput.config(\'icon\') !== \'\' ? \'withIcon\' : \'\'"><span ng-if="tagInput.config(\'icon\') !== \'\'" class="icon ion" ng-class="tagInput.config(\'icon\')"></span><tag-list ui-tag-input-id="{{::uiTagInputId}}"></tag-list><growing-input ui-tag-input-id="{{::uiTagInputId}}" on-input-blur="onInputBlur()" on-input-focus="onInputFocus()"></growing-input></div>',link:g}}angular.module("ui.taginput").directive("tagInput",n),n.$inject=["$timeout","$interpolate","TagInputConfig"]}();
!function(){"use strict";function n(n,t){function e(e,d){function g(){var n=I.width()+20;v.css("width",n+"px"),v.removeClass("error")}function c(n){var t=n.which;if(t===a||t===i){if(0===p(v[0])){var e=T.popTag();if(null!==e&&T.config("enableEditingLastTag")){var d=e[T.config("displayProperty")];T.text(d+T.text()),s(v[0],d.length)}n.preventDefault()}}else(t===o&&T.config("addOnEnter")||t===u&&T.config("addOnSpace")||t===r&&T.config("addOnComma"))&&(l(),n.preventDefault())}function l(){var n=p(v[0]),e=T.text(),a=e.substring(0,n);t(function(){T.pushTag(a)?(T.text(e.substring(n)),t(function(){s(v[0],0)})):v.addClass("error")})}function p(n){return n.selectionStart===n.selectionEnd?n.selectionStart:-1}function s(n,t){n.setSelectionRange(t,t)}function f(){T.getTags().length==T.config("maxTags")?(v.blur(),v.attr("disabled","disabled"),v.addClass("ui-tag-hide")):(v.removeAttr("disabled"),v.removeClass("ui-tag-hide"))}var h=e.uiTagInputId,v=d.find("input"),I=d.find("span"),T=n.getByHandle(h);if(e.tagInput=T,e.placeholder=T.config("placeholder"),e.inputType=T.config("type"),e.onInputChanged=g,e.onKeyDown=c,!T.config("allowMoreThanMaxTags")){var y=T.onTagAdded(f),m=T.onTagRemoved(f);e.$on("$destroy",function(){y(),m()})}}var a=8,i=46,o=13,u=32,r=188;return{restrict:"E",scope:{uiTagInputId:"@",onInputBlur:"&",onInputFocus:"&"},template:'<div class="growingInput"><input type="text" placeholder="{{::placeholder}}" type="{{::inputType}}" ng-keydown="onKeyDown($event)" ng-change="onInputChanged()" ng-blur="onInputBlur()" ng-focus="onInputFocus()" ng-model="tagInput._text"><span class="hiddenText">{{tagInput._text || placeholder}}</span></div>',link:e}}angular.module("ui.taginput").directive("growingInput",n),n.$inject=["TagInputConfig","$timeout"]}();