!function(){"use strict";angular.module("lh.commons.util",[])}();
!function(){"use strict";function t(t){function n(t,n){return new i(t,n)}function i(n,i){function e(n){if(!angular.isString(n)||""===n)throw new Error("handle is not a sring");return this.data[n]=t.instantiate(this._clz),this.data[n]}function a(t){if(!angular.isString(t)||""===t)throw new Error("handle is not a sring");return angular.isUndefined(this.data[t])?this.initHandle.call(this,t):this.data[t]}function r(){return this._prefix+this._index++%1e6}function s(t){if(!angular.isString(t)||""===t)throw new Error("handle is not a sring");delete this.data[t]}this._prefix=i,this._clz=n,this.data={},this._index=0,this.initHandle=e,this.getByHandle=a,this.generateHandle=r,this.removeHandle=s}return{create:n}}angular.module("lh.commons.util").factory("DelegateHandle",t),t.$inject=["$injector"]}();
!function(){"use strict";function n(n){function t(){return new c}function c(){function t(n){return angular.isFunction(n)?(o.cb.indexOf(n)===-1&&o.cb.push(n),o.off.bind(o,n)):angular.noop}function c(n){var t=o.cb.indexOf(n);t>-1&&o.cb.splice(t,1)}function i(){var t=arguments;o.cb.forEach(function(c){n(function(){c.apply(null,t)})})}var o=this;o.cb=[],o.on=t,o.off=c,o.notify=i}return{create:t}}angular.module("lh.commons.util").factory("Listener",n),n.$inject=["$timeout"]}();
!function(){"use strict";angular.module("ui.taginput",["lh.commons.util"])}();
!function(){"use strict";function n(n){return n.create(e,"tag-input")}function e(n){function e(n){if(angular.isDefined(n))if(angular.isString(n)){if(""!==n&&x._config.allowedTagsPatternRegex.test(n)&&n.length>=x._config.minLength&&n.length<=x._config.maxLength)return a(n)}else{if(angular.isArray(n)){for(var i=!0,r=0;r<n.length;r++)e(n[r])||(i=!1);return i}if(angular.isObject(n))return t(n)}else if(""!==x.text()){var i=a(x.text());return i&&x.text(""),i}return!1}function a(n){var e={};return e[x._config.displayProperty]=n,e[x._config.keyProperty]=n,t(e)}function t(n){return!(!x._config.allowMoreThanMaxTags&&x._tags.length>=x._config.maxTags)&&(null===x.getTagByKey(n[x._config.keyProperty])&&(x._tags.push(n),x._onTagAddedListener.notify(n),!0))}function i(n){return angular.isDefined(n)?angular.isNumber(n)?r(n):angular.isObject(n)?g(n):null:r(x._tags.length-1)}function r(n){if(n>=0){var e=x._tags.splice(n,1);if(1===e.length)return x._onTagRemovedListener.notify(e[0]),e[0]}return null}function g(n){return r(x._tags.indexOf(n))}function o(n,e){if(angular.isDefined(e)){var a={};a[n]=e,f(a)}else{if(angular.isString(n))return x._config[n];if(!angular.isObject(n))throw new Exception("Unsupported Operation");f(n)}}function d(n){return angular.isDefined(n)?void(x._text=n):x._text}function l(){return x._tags}function u(n){for(var e=x._config.keyProperty,a=0;a<x._tags.length;a++)if(x._tags[a][e]===n)return x._tags[a];return null}function s(n){return n[x._config.displayProperty]}function f(n){angular.isDefined(n.displayProperty)&&(x._config.displayProperty=p(n.displayProperty)),angular.isDefined(n.keyProperty)&&(x._config.keyProperty=p(n.keyProperty)),angular.isDefined(n.type)&&(x._config.type=p(n.type)),angular.isDefined(n.minLength)&&c(n.minLength)&&(x._config.minLength=m(n.minLength)),angular.isDefined(n.maxLength)&&c(n.maxLength)&&(x._config.maxLength=m(n.maxLength)),angular.isDefined(n.minTags)&&c(n.minTags)&&(x._config.minTags=m(n.minTags)),angular.isDefined(n.maxTags)&&c(n.maxTags)&&(x._config.maxTags=m(n.maxTags)),angular.isDefined(n.allowMoreThanMaxTags)&&T(n.allowMoreThanMaxTags)&&(x._config.allowMoreThanMaxTags=_(n.allowMoreThanMaxTags)),angular.isDefined(n.placeholder)&&(x._config.placeholder=p(n.placeholder)),angular.isDefined(n.icon)&&(x._config.icon=p(n.icon)),angular.isDefined(n.addOnEnter)&&T(n.addOnEnter)&&(x._config.addOnEnter=_(n.addOnEnter)),angular.isDefined(n.addOnSpace)&&T(n.addOnSpace)&&(x._config.addOnSpace=_(n.addOnSpace)),angular.isDefined(n.addOnComma)&&T(n.addOnComma)&&(x._config.addOnComma=_(n.addOnComma)),angular.isDefined(n.addOnBlur)&&T(n.addOnBlur)&&(x._config.addOnBlur=_(n.addOnBlur)),angular.isDefined(n.allowedTagsPattern)&&(x._config.allowedTagsPattern=n.allowedTagsPattern,x._config.allowedTagsPatternRegex=new RegExp(n.allowedTagsPattern)),angular.isDefined(n.enableEditingLastTag)&&T(n.enableEditingLastTag)&&(x._config.enableEditingLastTag=_(n.enableEditingLastTag))}function c(n){return/^\d+$/.test(n)}function T(n){return/^(false|true)$/.test(n)}function _(n){return"true"===String(n)}function p(n){return String(n)}function m(n){return parseInt(n)}var y={displayProperty:"value",keyProperty:"value",type:"text",minLength:0,maxLength:Number.MAX_SAFE_INTEGER,minTags:0,maxTags:Number.MAX_SAFE_INTEGER,allowMoreThanMaxTags:!0,placeholder:"",icon:"",addOnEnter:!0,addOnSpace:!1,addOnComma:!0,addOnBlur:!0,allowedTagsPattern:".+",allowedTagsPatternRegex:new RegExp(".+"),enableEditingLastTag:!1},x={};return x._config=y,x._tags=[],x._text="",x._onTagAddedListener=n.create(),x._onTagRemovedListener=n.create(),x.pushTag=e,x.popTag=i,x.config=o,x.text=d,x.getTags=l,x.getTagByKey=u,x.displayTag=s,x.onTagAdded=x._onTagAddedListener.on,x.onTagRemoved=x._onTagRemovedListener.on,x}angular.module("ui.taginput").factory("TagInputConfig",n),n.$inject=["DelegateHandle"],e.$inject=["Listener"]}();
!function(){"use strict";function t(t){function i(i){i.tagInput=t.getByHandle(i.uiTagInputId)}return{restrict:"E",template:'<div class="tag-container"><pill class="ui-tag-input-pill" ng-click="tagInput.popTag(tag)" ng-repeat="tag in tagInput.getTags()">{{tagInput.displayTag(tag)}} <i class="ion-close-round"></i></pill></div>',scope:{uiTagInputId:"@"},link:i}}angular.module("ui.taginput").directive("tagList",t),t.$inject=["TagInputConfig"]}();
!function(){"use strict";function t(t,n,i){function a(a,g,e,u){function o(){a.tags=d.getTags(),c(),u.$setDirty(),s(),d.config("allowMoreThanMaxTags")||l()}function s(){u.$setValidity("maxTags",d.getTags().length<=d.config("maxTags")),u.$setValidity("minTags",d.getTags().length>=d.config("minTags")),u.$validate()}function c(){t(function(){g[0].scrollLeft=g[0].scrollWidth})}function l(){d.getTags().length==d.config("maxTags")?g.addClass("ui-tag-full"):g.removeClass("ui-tag-full")}var d=i.getByHandle(a.uiTagInputId),r=g.find("input")[0];if(""!==d.config("icon")){var f=n('<span class="icon ion {{icon}} "></span>')({icon:d.config("icon")});g.prepend(angular.element(f)),g.addClass("withIcon")}g.bind("click",function(n){n.target==g[0]&&t(function(){r.focus()})}),u.$isEmpty=function(t){return!t||!t.length},d.onTagAdded(o),d.onTagRemoved(o),a.tags&&a.tags.length>0&&(u.$setDirty(),a.tags.forEach(function(t){d.pushTag(t)})),s()}return{restrict:"E",replace:!0,require:"ngModel",scope:{uiTagInputId:"@",tags:"=ngModel"},template:'<div class="item ui-tag-input"><tag-list ui-tag-input-id="{{::uiTagInputId}}"></tag-list><growing-input ui-tag-input-id="{{::uiTagInputId}}"></growing-input></div>',compile:function(t,n){return i.getByHandle(n.uiTagInputId).config(n),a}}}angular.module("ui.taginput").directive("tagInput",t),t.$inject=["$timeout","$interpolate","TagInputConfig"]}();
!function(){"use strict";function n(n,t){function e(e,d,g){function l(){var n=I.width()+20;y.css("width",n+"px"),y.removeClass("error")}function c(){m.pushTag()}function p(n){var t=n.which;if(t===a||t===i){if(0===f(y[0])){var e=m.popTag();if(null!==e&&m.config("enableEditingLastTag")){var d=e[m.config("displayProperty")];m.text(d+m.text()),h(y[0],d.length)}n.preventDefault()}}else(t===o&&m.config("addOnEnter")||t===r&&m.config("addOnSpace")||t===u&&m.config("addOnComma"))&&(s(),n.preventDefault())}function s(){var n=f(y[0]),e=m.text(),a=e.substring(0,n);t(function(){m.pushTag(a)?(m.text(e.substring(n)),t(function(){h(y[0],0)})):y.addClass("error")})}function f(n){return n.selectionStart===n.selectionEnd?n.selectionStart:-1}function h(n,t){n.setSelectionRange(t,t)}function v(){m.getTags().length==m.config("maxTags")?(y.blur(),y.attr("disabled","disabled"),y.addClass("ui-tag-hide")):(y.removeAttr("disabled"),y.removeClass("ui-tag-hide"))}var T=g.uiTagInputId,y=d.find("input"),I=d.find("span"),m=n.getByHandle(T);if(e.tagInput=m,e.placeholder=m.config("placeholder"),e.inputType=m.config("type"),e.onInputBlur=c,e.onInputChanged=l,e.onKeyDown=p,!m.config("allowMoreThanMaxTags")){var x=m.onTagAdded(v),w=m.onTagRemoved(v);e.$on("$destroy",function(){x(),w()})}}var a=8,i=46,o=13,r=32,u=188;return{restrict:"E",template:'<div class="growingInput"><input type="text" placeholder="{{::placeholder}}" type="{{::inputType}}" ng-keydown="onKeyDown($event)" ng-change="onInputChanged()" ng-blur="onInputBlur()" ng-model="tagInput._text"><span class="hiddenText">{{tagInput._text || placeholder}}</span></div>',link:e}}angular.module("ui.taginput").directive("growingInput",n),n.$inject=["TagInputConfig","$timeout"]}();